{% extends "masterss.html" %}
{% block content %}
<div class="container py-5">
    <h4>Upload Final Artwork</h4>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="mb-3">
            <label class="form-label">Select Image</label>
            <input type="file" name="final_artwork" id="final_artwork_input" accept="image/*" required class="form-control">
        </div>

        <!-- PREVIEW -->
        <div class="mb-3" id="preview_container" style="display:none;">
            <p class="mb-1 small text-muted">Preview:</p>
            <img id="preview_image" src="#" alt="Image Preview" class="img-fluid rounded" style="max-height:300px; object-fit:cover;">
        </div>

        <button class="btn btn-success mt-3">Upload</button>
    </form>
</div>

<!-- JS for image preview -->
<script>
    const input = document.getElementById('final_artwork_input');
    const previewContainer = document.getElementById('preview_container');
    const previewImage = document.getElementById('preview_image');

    input.addEventListener('change', function() {
        const file = this.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                previewImage.setAttribute('src', e.target.result);
                previewContainer.style.display = 'block';
            }
            reader.readAsDataURL(file);
        } else {
            previewContainer.style.display = 'none';
            previewImage.setAttribute('src', '#');
        }
    });
</script>
{% endblock %}
