{% extends "masterss.html" %}
{% load static %}

{% block title %}Artwork Detail | Paletra{% endblock %}

{% block content %}

<style>
.artwork-detail-page {
    background: #FFF7EC;
    min-height: 100vh;
    padding: 60px 0;
}

.artwork-box {
    background: #fff;
    border-radius: 25px;
    box-shadow: 0 12px 35px rgba(0,0,0,0.08);
    overflow: hidden;
}

.artwork-image img {
    width: 100%;
    height: 420px;
    object-fit: cover;
}

.artwork-info {
    padding: 30px;
}

.text-main { color: #5C3A21; }
.text-muted-soft { color: #8A6A4F; }

.price {
    color: #5C3A21;
    font-weight: 700;
}

.client-actions button {
    border: none;
    padding: 10px 18px;
    border-radius: 25px;
    margin-right: 10px;
    cursor: pointer;
    font-weight: 600;
}

.like-btn { background: #ffe6e6; }
.save-btn { background: #e6f0ff; }
.cart-btn { background: #e9f7ef; }

.artist-actions a {
    margin-right: 15px;
    font-weight: 600;
    text-decoration: none;
}

.read-more {
    display: inline-block;
    margin-top: 10px;
    color: #5C3A21;
    font-weight: 600;
    text-decoration: underline;
    cursor: pointer;
}
</style>

<div class="artwork-detail-page">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">

                <div class="artwork-box">

                    <!-- IMAGE -->
                    <div class="artwork-image">
                        <img src="{{ artwork.image.url }}" alt="{{ artwork.title }}">
                    </div>

                    <!-- INFO -->
                    <div class="artwork-info">

                        <h2 class="text-main fw-bold">{{ artwork.title }}</h2>

                        <p class="text-muted-soft">{{ artwork.category }}</p>

                        <!-- ARTIST NAME (ONLY FOR CLIENT / PUBLIC) -->
                        {% if not user.is_authenticated or user.role == 'client' %}
                        <p class="small text-muted">
                            By {{ artwork.artist.username }}
                        </p>
                        {% endif %}

                        <!-- SHORT DESCRIPTION -->
                        {% if artwork.short_description %}
                        <p class="mt-3">
                            {{ artwork.short_description }}
                        </p>
                        {% endif %}

                        <!-- FULL DESCRIPTION / READ MORE -->
                        {% if artwork.description %}
                        <p class="mt-3 text-muted">
                            {{ artwork.description }}
                        </p>
                        {% endif %}

                        <!-- PRICE AFTER DESCRIPTION -->
                        <h3 class="price mt-3">
                            ‚Çπ {{ artwork.price }}
                        </h3>

                        <!-- CLIENT ACTIONS -->
                        {% if user.is_authenticated and user.role == 'client' %}
                        <div class="client-actions mt-4">
                            <button class="like-btn">‚ù§Ô∏è Like</button>
                            <button class="save-btn">üîñ Save</button>
                            <button class="cart-btn">üõí Add to Cart</button>
                        </div>
                        {% endif %}

                        <!-- ARTIST ACTIONS -->
                        {% if user.is_authenticated and user.role == 'artist' and user == artwork.artist %}
                        <div class="artist-actions mt-4">
                            <a href="{% url 'edit_artwork' artwork.id %}">‚úèÔ∏è Edit</a>
                            <a href="{% url 'delete_artwork' artwork.id %}">üóë Delete</a>
                        </div>
                        {% endif %}

                    </div>

                </div>

            </div>
        </div>
    </div>
</div>

{% endblock %}
